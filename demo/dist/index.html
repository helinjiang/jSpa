<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="author" content="linjianghe">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">


    <title>jSpa，轻量级单页应用框架</title>
    <script type="text/javascript">
    window.console && console.log("cur=" + location.href);
    </script>
    <style type="text/css">
    *[data-defpageid] {
        display: none;
    }
    
    *[data-defpageid].active {
        display: block;
    }

    .box-wrapper{
        border:1px solid green;
        min-height: 50px;
        margin-top: 500px;
    }
    .box-wrapper .loader{
        border:1px solid red;
        height: 10px;
    }

    .box-wrapper .box{
        background-color: blue;
        margin: 5px;
        height: 60px;
        color: #fff;
        font-size: 32px;
        text-align: center;
        line-height: 60px;
    }
    </style>
</head>

<body>
    <p><a href="javascript:void(0);" data-nav="index">首页</a></p>
    <p><a href="javascript:void(0);" data-nav="detail">detail页面</a></p>
    <p><a href="javascript:void(0);" data-nav="detail(key1,key2)" data-key1="1key1" data-key2="2key2">detail页面，附加参数</a></p>
    <hr>
    <div data-defpageid="index" data-switch="PAGEINDEX.switch" data-active="PAGEINDEX.active">
        <h1>首页</h1>
        <p><a href="javascript:void(0);" data-click="EVENT.testClick">测试点击事件</a></p>
        <p><a href="javascript:void(0);" data-click="EVENT.testClick EVENT.testClick2">测试点击事件（两个）</a></p>
        <div class="jinfo">我将被替换成新的文本</div>
        <div class="jinviewlazy">
            <p>这里setHtml时将使用追加的方式，并且追加之后的html的dom中如果有data-inview或data-src等，也可以懒加载哦。</p>
        </div>
        <div class="box-wrapper">
            <div class="imgbox">
                <h2>测试懒加载图片</h2>
                <p>懒加载之后，“腾讯新闻”图片就被替换成了“腾讯网”图片</p>
                <img src="http://mat1.gtimg.com/news/news2013/LOGO.jpg" data-src="http://mat1.gtimg.com/www/images/qq2012/qqlogo_1x.png">
            </div>  
            <h2>测试懒加载</h2>
            <p>请向下滚动，懒加载执行3次则停止。</p>
            <div class="jbox"></div>   
            <div class="loader jloader" data-inview="EVENT.testInview"></div>            
        </div>
        
    </div>
    <div data-defpageid="detail" data-switch="PAGEDETAIL.switch">
        <h1>detail页面</h1>
        <p><a class="btn btn-success" href="javascript:void(0);" data-click="EVENT.back">返回</a></p>
        <div class="jresult"></div>
    </div>
    <div data-defpageid="p404">
        <h1>p404页面</h1>
        <p><a class="btn btn-success" href="javascript:void(0);" data-click="EVENT.back">返回</a></p>
        <p>本页面用于测试p404操作</p>        
    </div>


    <script type="text/javascript" src="./jspa/jspa-fastclick.js?_v=151203163915"></script>
    <script type="text/javascript" src="./js/lib/zepto.min.js?_v=151203163915"></script>

    <script type="text/javascript" src="./js/core/util.js?_v=151203163915"></script>
    <script type="text/javascript" src="./js/core/event.js?_v=151203163915"></script>
    
    <script type="text/javascript" src="./js/page/index.js?_v=151203163915"></script>
    <script type="text/javascript" src="./js/page/detail.js?_v=151203163915"></script>

    <script type="text/javascript">
        UTIL.initjSpa();
    </script>
</body>

</html>
